{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n      label: 0,\n      sent: function () {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n    f,\n    y,\n    t,\n    g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (_) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n        case 7:\n          op = _.ops.pop();\n          _.trys.pop();\n          continue;\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n            _.ops.push(op);\n            break;\n          }\n          if (t[2]) _.ops.pop();\n          _.trys.pop();\n          continue;\n      }\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar react_1 = require(\"react\");\nvar defaultStore_1 = require(\"./utils/defaultStore\");\nexports.createAuthProvider = function (_a) {\n  var _b;\n  var accessTokenExpireKey = _a.accessTokenExpireKey,\n    accessTokenKey = _a.accessTokenKey,\n    _c = _a.localStorageKey,\n    localStorageKey = _c === void 0 ? 'REACT_TOKEN_AUTH_KEY' : _c,\n    onUpdateToken = _a.onUpdateToken,\n    onHydratation = _a.onHydratation,\n    _d = _a.storage,\n    storage = _d === void 0 ? defaultStore_1.createDefaultStore((_b = {}, _b[localStorageKey] = localStorage.getItem(localStorageKey), _b)) : _d,\n    customFetch = _a.customFetch;\n  var tp = createTokenProvider({\n    accessTokenExpireKey: accessTokenExpireKey,\n    accessTokenKey: accessTokenKey,\n    localStorageKey: localStorageKey,\n    onHydratation: onHydratation,\n    onUpdateToken: onUpdateToken,\n    storage: storage\n  });\n  var login = function (newTokens) {\n    tp.setToken(newTokens);\n  };\n  var logout = function () {\n    tp.setToken(null);\n  };\n  var authFetch = function (input, init) {\n    return __awaiter(void 0, void 0, void 0, function () {\n      var token;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4 /*yield*/, tp.getToken()];\n          case 1:\n            token = _a.sent();\n            init = init || {};\n            init.headers = __assign(__assign({}, init.headers), {\n              Authorization: \"Bearer \" + token\n            });\n            if (customFetch) {\n              return [2 /*return*/, customFetch(input, init)];\n            }\n            return [2 /*return*/, fetch(input, init)];\n        }\n      });\n    });\n  };\n  var useAuth = function () {\n    var _a = react_1.useState(tp.isLoggedIn()),\n      isLogged = _a[0],\n      setIsLogged = _a[1];\n    var listener = react_1.useCallback(function (newIsLogged) {\n      setIsLogged(newIsLogged);\n    }, [setIsLogged]);\n    react_1.useEffect(function () {\n      tp.subscribe(listener);\n      return function () {\n        tp.unsubscribe(listener);\n      };\n    }, [listener]);\n    return [isLogged];\n  };\n  return [useAuth, authFetch, login, logout];\n};\nvar createTokenProvider = function (_a) {\n  var localStorageKey = _a.localStorageKey,\n    accessTokenKey = _a.accessTokenKey,\n    accessTokenExpireKey = _a.accessTokenExpireKey,\n    onUpdateToken = _a.onUpdateToken,\n    onHydratation = _a.onHydratation,\n    storage = _a.storage;\n  var listeners = [];\n  var getTokenInternal = function () {\n    var data = storage.getItem(localStorageKey);\n    var token = data && JSON.parse(data) || null;\n    return token;\n  };\n  var subscribe = function (listener) {\n    listeners.push(listener);\n  };\n  var unsubscribe = function (listener) {\n    listeners = listeners.filter(function (l) {\n      return l !== listener;\n    });\n  };\n  var jwtExp = function (token) {\n    if (!(typeof token === 'string')) {\n      return null;\n    }\n    var split = token.split('.');\n    if (split.length < 2) {\n      return null;\n    }\n    try {\n      var jwt = JSON.parse(atob(token.split('.')[1]));\n      if (jwt && jwt.exp && Number.isFinite(jwt.exp)) {\n        return jwt.exp * 1000;\n      } else {\n        return null;\n      }\n    } catch (e) {\n      return null;\n    }\n  };\n  var getExpire = function (token) {\n    if (!token) {\n      return null;\n    }\n    if (accessTokenExpireKey) {\n      // @ts-ignore\n      return token[accessTokenExpireKey];\n    }\n    if (accessTokenKey) {\n      // @ts-ignore\n      var exp = jwtExp(token[accessTokenKey]);\n      if (exp) {\n        return exp;\n      }\n    }\n    return jwtExp(token);\n  };\n  var isExpired = function (exp) {\n    if (!exp) {\n      return false;\n    }\n    return Date.now() > exp;\n  };\n  var checkExpiry = function () {\n    return __awaiter(void 0, void 0, void 0, function () {\n      var token, newToken, _a;\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            token = getTokenInternal();\n            if (!(token && isExpired(getExpire(token)))) return [3 /*break*/, 4];\n            if (!onUpdateToken) return [3 /*break*/, 2];\n            return [4 /*yield*/, onUpdateToken(token)];\n          case 1:\n            _a = _b.sent();\n            return [3 /*break*/, 3];\n          case 2:\n            _a = null;\n            _b.label = 3;\n          case 3:\n            newToken = _a;\n            setToken(newToken);\n            _b.label = 4;\n          case 4:\n            return [2 /*return*/];\n        }\n      });\n    });\n  };\n\n  var getToken = function () {\n    return __awaiter(void 0, void 0, void 0, function () {\n      var token;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4 /*yield*/, checkExpiry()];\n          case 1:\n            _a.sent();\n            if (accessTokenKey) {\n              token = getTokenInternal();\n              // @ts-ignore\n              return [2 /*return*/, token && token[accessTokenKey]];\n            }\n            return [2 /*return*/, getTokenInternal()];\n        }\n      });\n    });\n  };\n  var isLoggedIn = function () {\n    var token = getTokenInternal();\n    if (onHydratation) {\n      onHydratation(token);\n    }\n    return !!token;\n  };\n  var setToken = function (token) {\n    if (token) {\n      storage.setItem(localStorageKey, JSON.stringify(token));\n    } else {\n      storage.removeItem(localStorageKey);\n    }\n    notify();\n  };\n  var notify = function () {\n    var isLogged = isLoggedIn();\n    listeners.forEach(function (l) {\n      return l(isLogged);\n    });\n  };\n  return {\n    getToken: getToken,\n    isLoggedIn: isLoggedIn,\n    setToken: setToken,\n    subscribe: subscribe,\n    unsubscribe: unsubscribe\n  };\n};","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","__generator","body","_","label","sent","trys","ops","f","y","g","verb","Symbol","iterator","v","op","TypeError","pop","push","defineProperty","exports","react_1","require","defaultStore_1","createAuthProvider","_a","_b","accessTokenExpireKey","accessTokenKey","_c","localStorageKey","onUpdateToken","onHydratation","_d","storage","createDefaultStore","localStorage","getItem","customFetch","tp","createTokenProvider","login","newTokens","setToken","logout","authFetch","input","init","token","getToken","headers","Authorization","fetch","useAuth","useState","isLoggedIn","isLogged","setIsLogged","listener","useCallback","newIsLogged","useEffect","subscribe","unsubscribe","listeners","getTokenInternal","data","JSON","parse","filter","l","jwtExp","split","jwt","atob","exp","Number","isFinite","getExpire","isExpired","Date","now","checkExpiry","newToken","setItem","stringify","removeItem","notify","forEach"],"sources":["/Users/youssefouzeroual/Desktop/LBD/LaFargeApp/e-learning-platform/client/node_modules/react-token-auth/lib/index.js"],"sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = require(\"react\");\nvar defaultStore_1 = require(\"./utils/defaultStore\");\nexports.createAuthProvider = function (_a) {\n    var _b;\n    var accessTokenExpireKey = _a.accessTokenExpireKey, accessTokenKey = _a.accessTokenKey, _c = _a.localStorageKey, localStorageKey = _c === void 0 ? 'REACT_TOKEN_AUTH_KEY' : _c, onUpdateToken = _a.onUpdateToken, onHydratation = _a.onHydratation, _d = _a.storage, storage = _d === void 0 ? defaultStore_1.createDefaultStore((_b = {}, _b[localStorageKey] = localStorage.getItem(localStorageKey), _b)) : _d, customFetch = _a.customFetch;\n    var tp = createTokenProvider({\n        accessTokenExpireKey: accessTokenExpireKey,\n        accessTokenKey: accessTokenKey,\n        localStorageKey: localStorageKey,\n        onHydratation: onHydratation,\n        onUpdateToken: onUpdateToken,\n        storage: storage,\n    });\n    var login = function (newTokens) {\n        tp.setToken(newTokens);\n    };\n    var logout = function () {\n        tp.setToken(null);\n    };\n    var authFetch = function (input, init) { return __awaiter(void 0, void 0, void 0, function () {\n        var token;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, tp.getToken()];\n                case 1:\n                    token = _a.sent();\n                    init = init || {};\n                    init.headers = __assign(__assign({}, init.headers), { Authorization: \"Bearer \" + token });\n                    if (customFetch) {\n                        return [2 /*return*/, customFetch(input, init)];\n                    }\n                    return [2 /*return*/, fetch(input, init)];\n            }\n        });\n    }); };\n    var useAuth = function () {\n        var _a = react_1.useState(tp.isLoggedIn()), isLogged = _a[0], setIsLogged = _a[1];\n        var listener = react_1.useCallback(function (newIsLogged) {\n            setIsLogged(newIsLogged);\n        }, [setIsLogged]);\n        react_1.useEffect(function () {\n            tp.subscribe(listener);\n            return function () {\n                tp.unsubscribe(listener);\n            };\n        }, [listener]);\n        return [isLogged];\n    };\n    return [useAuth, authFetch, login, logout];\n};\nvar createTokenProvider = function (_a) {\n    var localStorageKey = _a.localStorageKey, accessTokenKey = _a.accessTokenKey, accessTokenExpireKey = _a.accessTokenExpireKey, onUpdateToken = _a.onUpdateToken, onHydratation = _a.onHydratation, storage = _a.storage;\n    var listeners = [];\n    var getTokenInternal = function () {\n        var data = storage.getItem(localStorageKey);\n        var token = (data && JSON.parse(data)) || null;\n        return token;\n    };\n    var subscribe = function (listener) {\n        listeners.push(listener);\n    };\n    var unsubscribe = function (listener) {\n        listeners = listeners.filter(function (l) { return l !== listener; });\n    };\n    var jwtExp = function (token) {\n        if (!(typeof token === 'string')) {\n            return null;\n        }\n        var split = token.split('.');\n        if (split.length < 2) {\n            return null;\n        }\n        try {\n            var jwt = JSON.parse(atob(token.split('.')[1]));\n            if (jwt && jwt.exp && Number.isFinite(jwt.exp)) {\n                return jwt.exp * 1000;\n            }\n            else {\n                return null;\n            }\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    var getExpire = function (token) {\n        if (!token) {\n            return null;\n        }\n        if (accessTokenExpireKey) {\n            // @ts-ignore\n            return token[accessTokenExpireKey];\n        }\n        if (accessTokenKey) {\n            // @ts-ignore\n            var exp = jwtExp(token[accessTokenKey]);\n            if (exp) {\n                return exp;\n            }\n        }\n        return jwtExp(token);\n    };\n    var isExpired = function (exp) {\n        if (!exp) {\n            return false;\n        }\n        return Date.now() > exp;\n    };\n    var checkExpiry = function () { return __awaiter(void 0, void 0, void 0, function () {\n        var token, newToken, _a;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    token = getTokenInternal();\n                    if (!(token && isExpired(getExpire(token)))) return [3 /*break*/, 4];\n                    if (!onUpdateToken) return [3 /*break*/, 2];\n                    return [4 /*yield*/, onUpdateToken(token)];\n                case 1:\n                    _a = _b.sent();\n                    return [3 /*break*/, 3];\n                case 2:\n                    _a = null;\n                    _b.label = 3;\n                case 3:\n                    newToken = _a;\n                    setToken(newToken);\n                    _b.label = 4;\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); };\n    var getToken = function () { return __awaiter(void 0, void 0, void 0, function () {\n        var token;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, checkExpiry()];\n                case 1:\n                    _a.sent();\n                    if (accessTokenKey) {\n                        token = getTokenInternal();\n                        // @ts-ignore\n                        return [2 /*return*/, token && token[accessTokenKey]];\n                    }\n                    return [2 /*return*/, getTokenInternal()];\n            }\n        });\n    }); };\n    var isLoggedIn = function () {\n        var token = getTokenInternal();\n        if (onHydratation) {\n            onHydratation(token);\n        }\n        return !!token;\n    };\n    var setToken = function (token) {\n        if (token) {\n            storage.setItem(localStorageKey, JSON.stringify(token));\n        }\n        else {\n            storage.removeItem(localStorageKey);\n        }\n        notify();\n    };\n    var notify = function () {\n        var isLogged = isLoggedIn();\n        listeners.forEach(function (l) { return l(isLogged); });\n    };\n    return {\n        getToken: getToken,\n        isLoggedIn: isLoggedIn,\n        setToken: setToken,\n        subscribe: subscribe,\n        unsubscribe: unsubscribe,\n    };\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}